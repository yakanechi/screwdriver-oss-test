# template: screwdriver-cd-test/test-pipeline-template@latest

# ----------------------------------------------------------------------------------------------------------------------
# 
#     shared
# 
# ----------------------------------------------------------------------------------------------------------------------
shared:
  image: centos:centos7
  steps:
    - echo: echo "Hello world"

# ----------------------------------------------------------------------------------------------------------------------
# 
#     jobs
# 
# ----------------------------------------------------------------------------------------------------------------------
jobs:
  main:
    requires: [ ~commit, ~pr ]
    environment:
      GIT_SPARSE_CHECKOUT_PATH: "test sample"
    steps:
      - echo: |
          echo "GIT_SPARSE_CHECKOUT_PATH=${GIT_SPARSE_CHECKOUT_PATH}"
          pwd
          ls -la
          ls -la ../
          ls -la ./sub
          ls -la ./sample
          ls -la ../sample
          ls -la ../sample/sub
          ls -la ../sample/sub/subsub
          cat ./sub/subsub/sample.txt || true
          cat ./sample/sub/subsub/sample.txt || true
          cat ../sample/sub/subsub/sample.txt || true
